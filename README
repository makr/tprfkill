-- tprfkill

Script to read and restore bluetooth, wlan, and wwan rfkill settings when
running Linux on a ThinkPad.

Copyright Â© 2010 Matthias Kraft <M.Kraft@gmx.com>

See the file "license.terms" for information on usage and redistribution.


I am currently writing this, because my ThinkPad X200s always starts into Linux
with all rf devices switched on. This script should give me the possibility to
dump the state of the devices at shutdown and when booting up reload the states
again. Thus only having, e.g. wlan switched on. Eventually there will also be a
small GUI for a quick overview and easy switching of the states. If possible I
will even try to bind the GUI to FN+F5 then.

Currently, however, only following functionality is implemented.

Usage: ./tprfkill.tcl read
 Prints a line like "name (type) at file is state", e.g.
 "tpacpi_bluetooth_sw (bluetooth) at rfkill1 is soft_blocked".

Usage: ./tprfkill.tcl save
 Will save the current rfkill status of the devices in the local settings at
 "~/.tprfkillrc". This can be used as template to edit for use by "reset".
 Possible values are
  soft_blocked => device should be off
  unblocked => device should be on
  keep => do not touch this device

Usage: ./tprfkill.tcl reset
 Reset the state of all devices from the defaults, e.g. as loaded from the local
 settings.

Usage: ./tprfkill.tcl dump
 Dump the current status of the rfkill devices in a simple machine readable
 file.

Usage: ./tprfkill.tcl restore
 Restore the previously dumped status of all rfkill devices.
